@page "/topratedmovies"

@using UpdatedBlazorMovies.Data
@inject ScrapperService Scrapit

<h3>Top Rated Movies</h3>

<br />

@if (ListData == null)
{
    <p><em>Loading...</em></p>
}

@*else
    {
        <table class="table">
            <tbody>
                @foreach (var data in ListData)
                {
                    <tr>
                        <td>@data.ToString()</td>
                    </tr>
                }
            </tbody>
        </table>
    }*@

else
{
    <style>
        td,
        th {
            border: 1px solid rgb(190, 190, 190);
            padding: 10px;
            text-align: center;
        }

        td {
            text-align: center;
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";
            font-size: 1rem;
            font-weight: 400;
            line-height: 1.5;
        }

        th[scope="col"] {
            background-color: #3f87a6;
            color: #fff;
        }

        table {
            border-collapse: collapse;
            border: 2px solid rgb(200, 200, 200);
            letter-spacing: 1px;
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";
            font-size: 1rem;
            font-weight: 400;
            line-height: 1.5;
        }
    </style>

    <table>
        <tr>
            <th scope="col">Top Rated Films</th>
        </tr>
        <tr>
            <td>
                @foreach (var data in ListData)
                {
            <tr>
                <ul>@data.ToString()</ul>
            </tr>
        }
                </td>
                </tr>
            </table>
        }


@code
{
    public List<string> ListData;

    protected override async Task OnInitializedAsync()
    {
        ListData = await Scrapit.TopRatedMoviesScraper();
    }
}